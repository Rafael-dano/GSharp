{"ast":null,"code":"import axios from\"axios\";const API_URL=\"http://localhost:8000\";// Update this if your backend is deployed\n// Register User\nexport const registerUser=async(username,password)=>{try{const response=await axios.post(`${API_URL}/register`,{username,password});return response.data;}catch(error){var _error$response,_error$response$data,_error$response2,_error$response2$data;console.error(\"Registration error:\",((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||error.message);throw new Error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||\"Registration failed\");}};// Login User\nexport const loginUser=async(username,password)=>{try{const response=await axios.post(`${API_URL}/login`,{username,password},{headers:{\"Content-Type\":\"application/json\"}}// Explicitly set JSON headers\n);if(response.data.access_token){localStorage.setItem(\"token\",response.data.access_token);}return response.data;}catch(error){var _error$response3,_error$response4,_error$response4$data;console.error(\"Login error:\",((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||error.message);throw new Error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.detail)||\"Login failed\");}};// Get Protected Data\nexport const getProtectedData=async()=>{try{const token=localStorage.getItem(\"token\");if(!token)throw new Error(\"No token found. Please log in.\");const response=await axios.get(`${API_URL}/protected`,{headers:{Authorization:`Bearer ${token}`}});return response.data;}catch(error){var _error$response5,_error$response5$data,_error$response6,_error$response6$data;console.error(\"Protected route error:\",((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.detail)||error.message);throw new Error(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.detail)||\"Access denied\");}};// Logout User (Optional)\nexport const logoutUser=()=>{localStorage.removeItem(\"token\");};","map":{"version":3,"names":["axios","API_URL","registerUser","username","password","response","post","data","error","_error$response","_error$response$data","_error$response2","_error$response2$data","console","detail","message","Error","loginUser","headers","access_token","localStorage","setItem","_error$response3","_error$response4","_error$response4$data","getProtectedData","token","getItem","get","Authorization","_error$response5","_error$response5$data","_error$response6","_error$response6$data","logoutUser","removeItem"],"sources":["/Users/rafaelagredano/Desktop/F1/GSharp/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"http://localhost:8000\"; // Update this if your backend is deployed\n\n// Register User\nexport const registerUser = async (username, password) => {\n  try {\n    const response = await axios.post(`${API_URL}/register`, { username, password });\n    return response.data;\n  } catch (error) {\n    console.error(\"Registration error:\", error.response?.data?.detail || error.message);\n    throw new Error(error.response?.data?.detail || \"Registration failed\");\n  }\n};\n\n// Login User\nexport const loginUser = async (username, password) => {\n  try {\n    const response = await axios.post(\n      `${API_URL}/login`,\n      { username, password }, \n      { headers: { \"Content-Type\": \"application/json\" } } // Explicitly set JSON headers\n    );\n\n    if (response.data.access_token) {\n      localStorage.setItem(\"token\", response.data.access_token);\n    }\n\n    return response.data;\n  } catch (error) {\n    console.error(\"Login error:\", error.response?.data || error.message);\n    throw new Error(error.response?.data?.detail || \"Login failed\");\n  }\n};\n\n\n// Get Protected Data\nexport const getProtectedData = async () => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    if (!token) throw new Error(\"No token found. Please log in.\");\n\n    const response = await axios.get(`${API_URL}/protected`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    return response.data;\n  } catch (error) {\n    console.error(\"Protected route error:\", error.response?.data?.detail || error.message);\n    throw new Error(error.response?.data?.detail || \"Access denied\");\n  }\n};\n\n// Logout User (Optional)\nexport const logoutUser = () => {\n  localStorage.removeItem(\"token\");\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}