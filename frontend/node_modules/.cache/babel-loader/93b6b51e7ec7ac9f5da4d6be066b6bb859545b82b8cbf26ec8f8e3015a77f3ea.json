{"ast":null,"code":"import{useEffect,useState}from\"react\";import{getProtectedData,logoutUser}from\"../api\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){const[message,setMessage]=useState(\"\");const navigate=useNavigate();useEffect(()=>{const fetchData=async()=>{try{const data=await getProtectedData();setMessage(data.message);}catch(error){console.error(\"Error fetching protected data:\",error);logoutUser();// Clear token\nnavigate(\"/login\");// Redirect to login\n}};fetchData();},[navigate]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{logoutUser();navigate(\"/login\");},children:\"Logout\"})]});}export default Dashboard;","map":{"version":3,"names":["useEffect","useState","getProtectedData","logoutUser","useNavigate","jsx","_jsx","jsxs","_jsxs","Dashboard","message","setMessage","navigate","fetchData","data","error","console","children","onClick"],"sources":["/Users/rafaelagredano/Desktop/F1/GSharp/frontend/src/components/Dashboard.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getProtectedData, logoutUser } from \"../api\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Dashboard() {\n  const [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await getProtectedData();\n        setMessage(data.message);\n      } catch (error) {\n        console.error(\"Error fetching protected data:\", error);\n        logoutUser(); // Clear token\n        navigate(\"/login\"); // Redirect to login\n      }\n    };\n\n    fetchData();\n  }, [navigate]);\n\n  return (\n    <div>\n      <h2>Dashboard</h2>\n      <p>{message}</p>\n      <button onClick={() => { logoutUser(); navigate(\"/login\"); }}>Logout</button>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,gBAAgB,CAAEC,UAAU,KAAQ,QAAQ,CACrD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAW,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAE9BJ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAZ,gBAAgB,CAAC,CAAC,CACrCS,UAAU,CAACG,IAAI,CAACJ,OAAO,CAAC,CAC1B,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACtDZ,UAAU,CAAC,CAAC,CAAE;AACdS,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACtB,CACF,CAAC,CAEDC,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACD,QAAQ,CAAC,CAAC,CAEd,mBACEJ,KAAA,QAAAS,QAAA,eACEX,IAAA,OAAAW,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBX,IAAA,MAAAW,QAAA,CAAIP,OAAO,CAAI,CAAC,cAChBJ,IAAA,WAAQY,OAAO,CAAEA,CAAA,GAAM,CAAEf,UAAU,CAAC,CAAC,CAAES,QAAQ,CAAC,QAAQ,CAAC,CAAE,CAAE,CAAAK,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC1E,CAAC,CAEV,CAEA,cAAe,CAAAR,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}